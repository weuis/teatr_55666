<!-- plays.html -->
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Plays</title>
  <link rel="stylesheet" href="css/base.css" />
</head>
<body>
  <nav class="navbar">
    <div class="logo">ðŸŽ­ Theatre</div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="genres.html">Genres</a></li>
        <li><a href="actors.html">Actors</a></li>
        <li><a href="halls.html">Halls</a></li>
        <li><a href="performances.html">Performances</a></li>
        <li><a href="reservations.html">Reservations</a></li>
        <li><a href="tickets.html">Tickets</a></li>
        <li><a href="pay.html">Payment</a></li>
        <li><span id="auth-links"></span></li>
      </ul>
  </nav>

    <main class="main-content">
        <h1>Theatre Plays</h1>
        <p>
          Discover musicals filled with powerful songs and choreography, emotionally charged tragedies,
          imaginative fantasy productions, and family-friendly performances perfect for all ages.
        </p>
        <ul id="plays"></ul>
    </main>

<script>
  fetch('http://127.0.0.1:8000/api/v1/theatre/plays/')
    .then(r => r.json())
    .then(data => {
      const ul = document.getElementById('plays');
      data.forEach(play => {
        const genreNames = play.genres.map(g => g.name).join(', ');
        const actorNames = play.actors.map(a => `${a.first_name} ${a.last_name}`).join(', ');

        const li = document.createElement('li');
        li.textContent = `${play.title} â€” Genres: ${genreNames} â€” Actors: ${actorNames}`;
        ul.appendChild(li);
      });
    });
</script>
</body>
</html>